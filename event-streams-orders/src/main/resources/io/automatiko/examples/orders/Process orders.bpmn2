<?xml version="1.0" encoding="UTF-8"?>
<!-- origin at X=0.0 Y=0.0 -->
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:automatiko="https://automatiko.io" xmlns="https://automatiko.io" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:java="http://www.java.com/javaTypes" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd https://automatiko.io automatik.xsd" id="Definition" exporter="org.eclipse.bpmn2.modeler.core" exporterVersion="2.0.1" expressionLanguage="http://www.mvel.org/2.0" targetNamespace="https://automatiko.io" typeLanguage="http://www.java.com/javaTypes">
  <bpmn2:itemDefinition id="ItemDefinition_1" isCollection="false" structureRef="java.lang.Boolean"/>
  <bpmn2:itemDefinition id="ItemDefinition_29" isCollection="false" structureRef="io.automatiko.examples.orders.Order"/>
  <bpmn2:itemDefinition id="ItemDefinition_309" isCollection="false" structureRef="java.util.List&lt;io.automatiko.examples.orders.Item&gt;"/>
  <bpmn2:itemDefinition id="ItemDefinition_355" isCollection="false" structureRef="io.automatiko.examples.orders.ChangeSet"/>
  <bpmn2:itemDefinition id="ItemDefinition_2246" isCollection="false" structureRef="io.automatiko.examples.orders.Customer"/>
  <bpmn2:itemDefinition id="ItemDefinition_2463" isCollection="false" structureRef="io.automatiko.examples.orders.Shippment"/>
  <bpmn2:itemDefinition id="ItemDefinition_2546" isCollection="false" structureRef="io.automatiko.examples.orders.services.NotificationService"/>
  <bpmn2:itemDefinition id="ItemDefinition_3970" isCollection="false" structureRef="io.automatiko.examples.orders.services.ShippmentService"/>
  <bpmn2:itemDefinition id="ItemDefinition_761" isCollection="false" structureRef="io.automatiko.examples.orders.Item"/>
  <bpmn2:itemDefinition id="ItemDefinition_930" isCollection="false" structureRef="java.lang.Double"/>
  <bpmn2:itemDefinition id="ItemDefinition_670" isCollection="false" structureRef="io.automatiko.examples.orders.services.ItemService"/>
  <bpmn2:itemDefinition id="ItemDefinition_2073" isCollection="false" structureRef="java.math.BigDecimal"/>
  <bpmn2:message id="Message_1" itemRef="ItemDefinition_355" name="orders"/>
  <bpmn2:message id="Message_2" itemRef="ItemDefinition_29" name="reclaims"/>
  <bpmn2:message id="Message_3" itemRef="ItemDefinition_2246" name="customers"/>
  <bpmn2:message id="Message_4" itemRef="ItemDefinition_355" name="updatedorder">
    <bpmn2:extensionElements>
      <automatiko:metaData name="topic">
        <automatiko:metaValue><![CDATA[orders]]></automatiko:metaValue>
      </automatiko:metaData>
    </bpmn2:extensionElements>
  </bpmn2:message>
  <bpmn2:interface id="Interface_1" implementationRef="io.automatiko.examples.orders.services.ShippmentService" name="shipmentservice">
    <bpmn2:operation id="Operation_4" name="requestShippment"/>
    <bpmn2:operation id="Operation_5" name="cancelShippment"/>
  </bpmn2:interface>
  <bpmn2:interface id="Interface_2" implementationRef="io.automatiko.examples.orders.services.NotificationService" name="notificationservice">
    <bpmn2:operation id="Operation_1" name="sendCancelationEmail"/>
    <bpmn2:operation id="Operation_2" name="sendConfirmationEmail"/>
    <bpmn2:operation id="Operation_3" name="sendShippmentEmail"/>
  </bpmn2:interface>
  <bpmn2:interface id="Interface_3" implementationRef="io.automatiko.examples.orders.services.ItemService" name="itemservice">
    <bpmn2:operation id="Operation_6" name="process"/>
  </bpmn2:interface>
  <bpmn2:process id="orders" automatiko:packageName="io.automatiko.examples.orders" name="Process orders" isExecutable="true" processType="Public">
    <bpmn2:documentation id="Documentation_75"><![CDATA[Handling orders from the very beginning (order initiated/created) until it's shipped. It covers complete life cycle including adding and remving items on the order, changing shipping address based on customer address, order cancelation and timeout in case order was not placed in time.]]></bpmn2:documentation>
    <bpmn2:extensionElements>
      <automatiko:import name="io.automatiko.examples.orders.Order"/>
      <automatiko:import name="java.util.List"/>
      <automatiko:import name="io.automatiko.examples.orders.ChangeSet"/>
      <automatiko:import name="io.automatiko.examples.orders.Customer"/>
      <automatiko:metaData name="tags">
        <automatiko:metaValue><![CDATA[#{order.getCustomer().getEmail()},#{order.getOrderNumber()}]]></automatiko:metaValue>
      </automatiko:metaData>
      <automatiko:import name="io.automatiko.examples.orders.Shippment"/>
      <automatiko:import name="io.automatiko.examples.orders.NotificationService"/>
      <automatiko:import name="io.automatiko.examples.orders.services.ShippmentService"/>
      <automatiko:import name="io.automatiko.examples.orders.Item"/>
      <automatiko:import name="io.automatiko.examples.orders.services.ItemService"/>
      <automatiko:import name="java.math.BigDecimal"/>
    </bpmn2:extensionElements>
    <bpmn2:startEvent id="StartEvent_1" name="order created">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[order created]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>
      <bpmn2:dataOutput id="DataOutput_2" itemSubjectRef="ItemDefinition_355" name="event"/>
      <bpmn2:dataOutputAssociation id="DataOutputAssociation_1">
        <bpmn2:sourceRef>DataOutput_2</bpmn2:sourceRef>
        <bpmn2:targetRef>event</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:outputSet id="OutputSet_1" name="Output Set 1">
        <bpmn2:dataOutputRefs>DataOutput_2</bpmn2:dataOutputRefs>
      </bpmn2:outputSet>
      <bpmn2:messageEventDefinition id="MessageEventDefinition_1" messageRef="Message_1"/>
    </bpmn2:startEvent>
    <bpmn2:dataObject id="order" name="order" itemSubjectRef="ItemDefinition_29">
      <bpmn2:documentation id="Documentation_3"><![CDATA[Main order information including order number, status, total amount and tax. In addition it carries customer (who created the order).]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <automatiko:metaData name="tags">
          <automatiko:metaValue><![CDATA[notnull]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
    </bpmn2:dataObject>
    <bpmn2:dataObject id="items" name="items" itemSubjectRef="ItemDefinition_309">
      <bpmn2:documentation id="Documentation_4"><![CDATA[All items included in the order consiting of article information such as name and identifier, price and quantity]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <automatiko:metaData name="tags">
          <automatiko:metaValue><![CDATA[auto-initialized]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
    </bpmn2:dataObject>
    <bpmn2:dataObject id="event" name="event" itemSubjectRef="ItemDefinition_355">
      <bpmn2:documentation id="Documentation_9"><![CDATA[An incoming event representing change set of an order or an item]]></bpmn2:documentation>
      <bpmn2:extensionElements>
        <automatiko:metaData name="tags">
          <automatiko:metaValue><![CDATA[internal]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
    </bpmn2:dataObject>
    <bpmn2:eventBasedGateway id="EventBasedGateway_1" name="Wait for order status change" gatewayDirection="Diverging">
      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>
      <bpmn2:outgoing>SequenceFlow_4</bpmn2:outgoing>
    </bpmn2:eventBasedGateway>
    <bpmn2:intermediateCatchEvent id="IntermediateCatchEvent_2" name="Order placed">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Order placed]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>
      <bpmn2:conditionalEventDefinition id="ConditionalEventDefinition_2">
        <bpmn2:condition xsi:type="bpmn2:tFormalExpression" id="FormalExpression_2" language="http://www.java.com/java">order != null &amp;&amp; order.getStatus().equals(Order.OrderStatus.Placed)</bpmn2:condition>
      </bpmn2:conditionalEventDefinition>
    </bpmn2:intermediateCatchEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_3" automatiko:priority="1" sourceRef="EventBasedGateway_1" targetRef="IntermediateCatchEvent_2"/>
    <bpmn2:intermediateCatchEvent id="IntermediateCatchEvent_3" name="Timed out">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Timed out]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_4</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>
      <bpmn2:timerEventDefinition id="TimerEventDefinition_1">
        <bpmn2:timeDuration xsi:type="bpmn2:tFormalExpression" id="FormalExpression_3">PT10M</bpmn2:timeDuration>
      </bpmn2:timerEventDefinition>
    </bpmn2:intermediateCatchEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_4" automatiko:priority="1" sourceRef="EventBasedGateway_1" targetRef="IntermediateCatchEvent_3"/>
    <bpmn2:endEvent id="EndEvent_1" name="order closed on timeout">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[order closed on timeout]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>
      <bpmn2:terminateEventDefinition id="TerminateEventDefinition_1"/>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_5" automatiko:priority="1" sourceRef="IntermediateCatchEvent_3" targetRef="EndEvent_1"/>
    <bpmn2:serviceTask id="ServiceTask_2" name="Send confirmation notice" implementation="Java" operationRef="Operation_2">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Send confirmation notice]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_45</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>
      <bpmn2:ioSpecification id="InputOutputSpecification_26">
        <bpmn2:dataInput id="DataInput_13" itemSubjectRef="ItemDefinition_29" name="order"/>
        <bpmn2:dataInput id="DataInput_14" itemSubjectRef="ItemDefinition_309" name="items"/>
        <bpmn2:inputSet id="InputSet_24" name="Input Set 24">
          <bpmn2:dataInputRefs>DataInput_13</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_14</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_29" name="Output Set 29"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_13">
        <bpmn2:sourceRef>order</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_13</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_14">
        <bpmn2:sourceRef>items</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_14</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_11" automatiko:priority="1" sourceRef="IntermediateCatchEvent_2" targetRef="BusinessRuleTask_1"/>
    <bpmn2:serviceTask id="ServiceTask_3" name="Request shippment" implementation="Java" operationRef="Operation_4">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Request shippment]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>
      <bpmn2:ioSpecification id="InputOutputSpecification_34">
        <bpmn2:dataInput id="DataInput_18" itemSubjectRef="ItemDefinition_29" name="order"/>
        <bpmn2:dataOutput id="DataOutput_5" itemSubjectRef="ItemDefinition_2463" name="shippment"/>
        <bpmn2:inputSet id="InputSet_32" name="Input Set 32">
          <bpmn2:dataInputRefs>DataInput_18</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_37" name="Output Set 37">
          <bpmn2:dataOutputRefs>DataOutput_5</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_18">
        <bpmn2:sourceRef>order</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_18</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="DataOutputAssociation_4">
        <bpmn2:sourceRef>DataOutput_5</bpmn2:sourceRef>
        <bpmn2:targetRef>shippment</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_12" automatiko:priority="1" sourceRef="ServiceTask_2" targetRef="ServiceTask_3"/>
    <bpmn2:intermediateCatchEvent id="IntermediateCatchEvent_4" name="wait for shippment">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[wait for shippment]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_14</bpmn2:outgoing>
      <bpmn2:conditionalEventDefinition id="ConditionalEventDefinition_3">
        <bpmn2:condition xsi:type="bpmn2:tFormalExpression" id="FormalExpression_6" language="http://www.java.com/java">order.getStatus().equals(Order.OrderStatus.Shipped)</bpmn2:condition>
      </bpmn2:conditionalEventDefinition>
    </bpmn2:intermediateCatchEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_13" automatiko:priority="1" sourceRef="ServiceTask_3" targetRef="IntermediateCatchEvent_4"/>
    <bpmn2:serviceTask id="ServiceTask_4" name="Send shippment notice" implementation="Java" operationRef="Operation_3">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Send shippment notice]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_14</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_15</bpmn2:outgoing>
      <bpmn2:ioSpecification id="InputOutputSpecification_30">
        <bpmn2:dataInput id="DataInput_15" itemSubjectRef="ItemDefinition_29" name="order"/>
        <bpmn2:dataInput id="DataInput_16" itemSubjectRef="ItemDefinition_309" name="items"/>
        <bpmn2:dataInput id="DataInput_17" itemSubjectRef="ItemDefinition_2463" name="shippment"/>
        <bpmn2:inputSet id="InputSet_28" name="Input Set 28">
          <bpmn2:dataInputRefs>DataInput_15</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_16</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_17</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_33" name="Output Set 33"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_15">
        <bpmn2:sourceRef>order</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_15</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_16">
        <bpmn2:sourceRef>items</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_16</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_17">
        <bpmn2:sourceRef>shippment</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_17</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_14" automatiko:priority="1" sourceRef="IntermediateCatchEvent_4" targetRef="ServiceTask_4"/>
    <bpmn2:endEvent id="EndEvent_4" name="order completed">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[order completed]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_15</bpmn2:incoming>
      <bpmn2:terminateEventDefinition id="TerminateEventDefinition_3"/>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_15" automatiko:priority="1" sourceRef="ServiceTask_4" targetRef="EndEvent_4"/>
    <bpmn2:boundaryEvent id="BoundaryEvent_1" name="" attachedToRef="ServiceTask_3">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:compensateEventDefinition id="CompensateEventDefinition_3" activityRef="ServiceTask_5" waitForCompletion="false"/>
    </bpmn2:boundaryEvent>
    <bpmn2:serviceTask id="ServiceTask_5" name="Cancel shippment" isForCompensation="true" implementation="Java" operationRef="Operation_5">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Cancel shippment]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:ioSpecification id="InputOutputSpecification_37">
        <bpmn2:dataInput id="DataInput_19" itemSubjectRef="ItemDefinition_2463" name="shippment"/>
        <bpmn2:inputSet id="InputSet_35" name="Input Set 35">
          <bpmn2:dataInputRefs>DataInput_19</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_40" name="Output Set 40"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_19">
        <bpmn2:sourceRef>shippment</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_19</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:subProcess id="SubProcess_1" name="Handle order updates" triggeredByEvent="true">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Handle order updates]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:startEvent id="StartEvent_2" name="on order or item change" isInterrupting="false">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[on order or item change]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:outgoing>SequenceFlow_50</bpmn2:outgoing>
        <bpmn2:dataOutput id="DataOutput_3" itemSubjectRef="ItemDefinition_355" name="Message_3_Output"/>
        <bpmn2:dataOutputAssociation id="DataOutputAssociation_2">
          <bpmn2:sourceRef>DataOutput_3</bpmn2:sourceRef>
          <bpmn2:targetRef>event</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:outputSet id="OutputSet_12" name="Output Set 12">
          <bpmn2:dataOutputRefs>DataOutput_3</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
        <bpmn2:messageEventDefinition id="MessageEventDefinition_3" messageRef="Message_1"/>
      </bpmn2:startEvent>
      <bpmn2:exclusiveGateway id="ExclusiveGateway_2" name="order or item?" gatewayDirection="Diverging">
        <bpmn2:incoming>SequenceFlow_50</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_20</bpmn2:outgoing>
        <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:endEvent id="EndEvent_5" name="Order updated">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[Order updated]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_26</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_20" automatiko:priority="1" sourceRef="ExclusiveGateway_2" targetRef="ExclusiveGateway_4">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_20" language="http://www.java.com/java">event.getItem() != null</bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:endEvent id="EndEvent_6" name="Item processed">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[Item processed]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_42</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_7" automatiko:priority="1" sourceRef="ExclusiveGateway_2" targetRef="ScriptTask_2">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_8" language="http://www.java.com/java">event.getOrder() != null</bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:scriptTask id="ScriptTask_2" name="Update order" scriptFormat="http://www.java.com/java">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[Update order]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_18</bpmn2:outgoing>
        <bpmn2:script>kcontext.setVariable(&quot;order&quot;, event.getOrder());</bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_18" automatiko:priority="1" sourceRef="ScriptTask_2" targetRef="BusinessRuleTask_3"/>
      <bpmn2:businessRuleTask id="BusinessRuleTask_3" name="Calculate order amount" implementation="http://www.jboss.org/drools/dmn">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[Calculate order amount]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_18</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_26</bpmn2:outgoing>
        <bpmn2:ioSpecification id="InputOutputSpecification_1">
          <bpmn2:dataInput id="DataInput_8" name="namespace"/>
          <bpmn2:dataInput id="DataInput_10" name="model"/>
          <bpmn2:dataInput id="DataInput_20" name="decision"/>
          <bpmn2:dataInput id="DataInput_21" itemSubjectRef="ItemDefinition_309" name="items"/>
          <bpmn2:dataInput id="DataInput_26" itemSubjectRef="ItemDefinition_2073" name="discount"/>
          <bpmn2:dataOutput id="DataOutput_9" itemSubjectRef="ItemDefinition_930" name="totalAmount"/>
          <bpmn2:inputSet id="InputSet_1">
            <bpmn2:dataInputRefs>DataInput_8</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>DataInput_10</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>DataInput_20</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>DataInput_21</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>DataInput_26</bpmn2:dataInputRefs>
          </bpmn2:inputSet>
          <bpmn2:outputSet id="OutputSet_2" name="Output Set">
            <bpmn2:dataOutputRefs>DataOutput_9</bpmn2:dataOutputRefs>
          </bpmn2:outputSet>
        </bpmn2:ioSpecification>
        <bpmn2:dataInputAssociation id="DataInputAssociation_10">
          <bpmn2:targetRef>DataInput_8</bpmn2:targetRef>
          <bpmn2:assignment id="Assignment_10">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_28">https://kiegroup.org/dmn/_D68D0A24-E6B4-4DD1-898C-A0FEEB835787</bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_29">DataInput_5</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="DataInputAssociation_20">
          <bpmn2:targetRef>DataInput_10</bpmn2:targetRef>
          <bpmn2:assignment id="Assignment_11">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_31">calculate-price</bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_33">DataInput_6</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="DataInputAssociation_21">
          <bpmn2:targetRef>DataInput_20</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="DataInputAssociation_22">
          <bpmn2:sourceRef>items</bpmn2:sourceRef>
          <bpmn2:targetRef>DataInput_21</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="DataInputAssociation_27">
          <bpmn2:sourceRef>discount</bpmn2:sourceRef>
          <bpmn2:targetRef>DataInput_26</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataOutputAssociation id="DataOutputAssociation_9">
          <bpmn2:sourceRef>DataOutput_9</bpmn2:sourceRef>
          <bpmn2:assignment id="Assignment_12">
            <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_34">DataOutput_8</bpmn2:from>
            <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_35">#{order.amount}</bpmn2:to>
          </bpmn2:assignment>
        </bpmn2:dataOutputAssociation>
      </bpmn2:businessRuleTask>
      <bpmn2:sequenceFlow id="SequenceFlow_26" automatiko:priority="1" sourceRef="BusinessRuleTask_3" targetRef="EndEvent_5"/>
      <bpmn2:exclusiveGateway id="ExclusiveGateway_4" name="Accepts item changes?" gatewayDirection="Diverging" default="SequenceFlow_36">
        <bpmn2:incoming>SequenceFlow_20</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_28</bpmn2:outgoing>
        <bpmn2:outgoing>SequenceFlow_36</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:endEvent id="EndEvent_10" name="No items allowed">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[No items allowed]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_28</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_28" automatiko:priority="1" sourceRef="ExclusiveGateway_4" targetRef="EndEvent_10">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_40" language="http://www.java.com/java">order.getStatus().equals(Order.OrderStatus.Placed) || order.getStatus().equals(Order.OrderStatus.Shipped)</bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:serviceTask id="ServiceTask_6" name="Process item" implementation="Java" operationRef="Operation_6">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[Process item]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_36</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_42</bpmn2:outgoing>
        <bpmn2:ioSpecification id="InputOutputSpecification_9">
          <bpmn2:dataInput id="DataInput_22" itemSubjectRef="ItemDefinition_355" name="event"/>
          <bpmn2:dataInput id="DataInput_23" itemSubjectRef="ItemDefinition_309" name="items"/>
          <bpmn2:dataOutput id="DataOutput_10" itemSubjectRef="ItemDefinition_761" name="itemIn"/>
          <bpmn2:inputSet id="InputSet_10" name="Input Set 10">
            <bpmn2:dataInputRefs>DataInput_22</bpmn2:dataInputRefs>
            <bpmn2:dataInputRefs>DataInput_23</bpmn2:dataInputRefs>
          </bpmn2:inputSet>
          <bpmn2:outputSet id="OutputSet_10" name="Output Set 10">
            <bpmn2:dataOutputRefs>DataOutput_10</bpmn2:dataOutputRefs>
          </bpmn2:outputSet>
        </bpmn2:ioSpecification>
        <bpmn2:dataInputAssociation id="DataInputAssociation_23">
          <bpmn2:sourceRef>event</bpmn2:sourceRef>
          <bpmn2:targetRef>DataInput_22</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataInputAssociation id="DataInputAssociation_24">
          <bpmn2:sourceRef>items</bpmn2:sourceRef>
          <bpmn2:targetRef>DataInput_23</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:dataOutputAssociation id="DataOutputAssociation_10">
          <bpmn2:sourceRef>DataOutput_10</bpmn2:sourceRef>
          <bpmn2:targetRef>item</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
      </bpmn2:serviceTask>
      <bpmn2:sequenceFlow id="SequenceFlow_36" automatiko:priority="1" sourceRef="ExclusiveGateway_4" targetRef="ServiceTask_6"/>
      <bpmn2:sequenceFlow id="SequenceFlow_42" automatiko:priority="1" sourceRef="ServiceTask_6" targetRef="EndEvent_6"/>
      <bpmn2:sequenceFlow id="SequenceFlow_50" automatiko:priority="1" sourceRef="StartEvent_2" targetRef="ExclusiveGateway_2"/>
    </bpmn2:subProcess>
    <bpmn2:subProcess id="SubProcess_2" name="Handle customer updates" triggeredByEvent="true">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Handle customer updates]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:startEvent id="StartEvent_3" name="on customer change" isInterrupting="false">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[on customer change]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:outgoing>SequenceFlow_19</bpmn2:outgoing>
        <bpmn2:dataOutput id="DataOutput_4" itemSubjectRef="ItemDefinition_2246" name="Message_4_Output"/>
        <bpmn2:dataOutputAssociation id="DataOutputAssociation_3">
          <bpmn2:sourceRef>DataOutput_4</bpmn2:sourceRef>
          <bpmn2:targetRef>customer</bpmn2:targetRef>
        </bpmn2:dataOutputAssociation>
        <bpmn2:outputSet id="OutputSet_17" name="Output Set 17">
          <bpmn2:dataOutputRefs>DataOutput_4</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
        <bpmn2:messageEventDefinition id="MessageEventDefinition_4" messageRef="Message_3"/>
      </bpmn2:startEvent>
      <bpmn2:endEvent id="EndEvent_7" name="customer updated">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[customer updated]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_31</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_31" automatiko:priority="1" sourceRef="ScriptTask_3" targetRef="EndEvent_7"/>
      <bpmn2:exclusiveGateway id="ExclusiveGateway_3" name="is change relevant" gatewayDirection="Diverging" default="SequenceFlow_24">
        <bpmn2:incoming>SequenceFlow_19</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_23</bpmn2:outgoing>
        <bpmn2:outgoing>SequenceFlow_24</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:sequenceFlow id="SequenceFlow_19" automatiko:priority="1" sourceRef="StartEvent_3" targetRef="ExclusiveGateway_3"/>
      <bpmn2:scriptTask id="ScriptTask_3" name="Update customer" scriptFormat="http://www.java.com/java">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[Update customer]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_23</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_31</bpmn2:outgoing>
        <bpmn2:script>order.setCustomer(customer);
kcontext.setVariable(&quot;order&quot;, order);</bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_23" automatiko:priority="1" sourceRef="ExclusiveGateway_3" targetRef="ScriptTask_3">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_27" language="http://www.java.com/java">!customer.getAddress().equals(order.getCustomer().getAddress())</bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:endEvent id="EndEvent_8" name="not relevant">
        <bpmn2:extensionElements>
          <automatiko:metaData name="elementname">
            <automatiko:metaValue><![CDATA[not relevant]]></automatiko:metaValue>
          </automatiko:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_24</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_24" automatiko:priority="1" sourceRef="ExclusiveGateway_3" targetRef="EndEvent_8"/>
    </bpmn2:subProcess>
    <bpmn2:dataObject id="shippment" name="shippment" itemSubjectRef="ItemDefinition_2463">
      <bpmn2:documentation id="Documentation_78"><![CDATA[Carries all relevant information about shippment of a given order]]></bpmn2:documentation>
    </bpmn2:dataObject>
    <bpmn2:scriptTask id="ScriptTask_1" name="Set order" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Set order]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_47</bpmn2:outgoing>
      <bpmn2:script>kcontext.setVariable(&quot;order&quot;, event.getOrder());</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_16" automatiko:priority="1" sourceRef="ParallelGateway_1" targetRef="EventBasedGateway_1"/>
    <bpmn2:dataObject id="customer" name="customer" itemSubjectRef="ItemDefinition_2246">
      <bpmn2:extensionElements>
        <automatiko:metaData name="tags">
          <automatiko:metaValue><![CDATA[internal]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
    </bpmn2:dataObject>
    <bpmn2:intermediateCatchEvent id="IntermediateCatchEvent_1" name="Order cancelled">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Order cancelled]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_35</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_29</bpmn2:outgoing>
      <bpmn2:conditionalEventDefinition id="ConditionalEventDefinition_1">
        <bpmn2:condition xsi:type="bpmn2:tFormalExpression" id="FormalExpression_1" language="http://www.java.com/java">order != null &amp;&amp; order.getStatus().equals(Order.OrderStatus.Cancelled)</bpmn2:condition>
      </bpmn2:conditionalEventDefinition>
    </bpmn2:intermediateCatchEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_29" automatiko:priority="1" sourceRef="IntermediateCatchEvent_1" targetRef="ServiceTask_1"/>
    <bpmn2:serviceTask id="ServiceTask_1" name="Send cancelation notice" implementation="Java" operationRef="Operation_1">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Send cancelation notice]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_29</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_30</bpmn2:outgoing>
      <bpmn2:ioSpecification id="InputOutputSpecification_21">
        <bpmn2:dataInput id="DataInput_11" itemSubjectRef="ItemDefinition_29" name="order"/>
        <bpmn2:dataInput id="DataInput_12" itemSubjectRef="ItemDefinition_309" name="items"/>
        <bpmn2:inputSet id="InputSet_19" name="Input Set 19">
          <bpmn2:dataInputRefs>DataInput_11</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_12</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_24" name="Output Set 24"/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_11">
        <bpmn2:sourceRef>order</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_11</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_12">
        <bpmn2:sourceRef>items</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_12</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_30" automatiko:priority="1" sourceRef="ServiceTask_1" targetRef="ExclusiveGateway_1"/>
    <bpmn2:exclusiveGateway id="ExclusiveGateway_1" name="check status" gatewayDirection="Diverging" default="SequenceFlow_34">
      <bpmn2:incoming>SequenceFlow_30</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_33</bpmn2:outgoing>
      <bpmn2:outgoing>SequenceFlow_34</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:sequenceFlow id="SequenceFlow_33" automatiko:priority="1" sourceRef="ExclusiveGateway_1" targetRef="IntermediateThrowEvent_1">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="FormalExpression_39" language="http://www.java.com/java">shippment != null</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="SequenceFlow_34" automatiko:priority="1" sourceRef="ExclusiveGateway_1" targetRef="EndEvent_9"/>
    <bpmn2:endEvent id="EndEvent_2" name="Cancel shippment">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Cancel shippment]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>
      <bpmn2:terminateEventDefinition id="TerminateEventDefinition_5"/>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="EndEvent_9" name="cancelled">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[cancelled]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_34</bpmn2:incoming>
      <bpmn2:terminateEventDefinition id="TerminateEventDefinition_2"/>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_35" automatiko:priority="1" sourceRef="ParallelGateway_1" targetRef="IntermediateCatchEvent_1"/>
    <bpmn2:dataObject id="item" name="item" itemSubjectRef="ItemDefinition_761">
      <bpmn2:extensionElements>
        <automatiko:metaData name="tags">
          <automatiko:metaValue><![CDATA[internal]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
    </bpmn2:dataObject>
    <bpmn2:businessRuleTask id="BusinessRuleTask_1" name="Apply discounts" implementation="http://www.jboss.org/drools/dmn">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Apply discounts]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_48</bpmn2:outgoing>
      <bpmn2:ioSpecification id="InputOutputSpecification_13">
        <bpmn2:dataInput id="DataInput_2" name="namespace"/>
        <bpmn2:dataInput id="DataInput_3" name="model"/>
        <bpmn2:dataInput id="DataInput_4" name="decision"/>
        <bpmn2:dataInput id="DataInput_24" itemSubjectRef="ItemDefinition_309" name="items"/>
        <bpmn2:dataOutput id="DataOutput_11" itemSubjectRef="ItemDefinition_2073" name="discount"/>
        <bpmn2:inputSet id="_InputSet_2">
          <bpmn2:dataInputRefs>DataInput_2</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_3</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_4</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_24</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_15" name="Output Set">
          <bpmn2:dataOutputRefs>DataOutput_11</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_2">
        <bpmn2:targetRef>DataInput_2</bpmn2:targetRef>
        <bpmn2:assignment id="Assignment_3">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_15">https://kiegroup.org/dmn/_D68D0A24-E6B4-4DD1-898C-A0FEEB835787</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_13">DataInput_2</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_3">
        <bpmn2:targetRef>DataInput_3</bpmn2:targetRef>
        <bpmn2:assignment id="Assignment_4">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_18">apply-discount</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_16">DataInput_3</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_4">
        <bpmn2:targetRef>DataInput_4</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_25">
        <bpmn2:sourceRef>items</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_24</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="DataOutputAssociation_11">
        <bpmn2:sourceRef>DataOutput_11</bpmn2:sourceRef>
        <bpmn2:targetRef>discount</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:businessRuleTask>
    <bpmn2:businessRuleTask id="BusinessRuleTask_2" name="Calculate order amount" implementation="http://www.jboss.org/drools/dmn">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Calculate order amount]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_48</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_45</bpmn2:outgoing>
      <bpmn2:ioSpecification id="InputOutputSpecification_14">
        <bpmn2:dataInput id="DataInput_5" name="namespace"/>
        <bpmn2:dataInput id="DataInput_6" name="model"/>
        <bpmn2:dataInput id="DataInput_7" name="decision"/>
        <bpmn2:dataInput id="DataInput_9" itemSubjectRef="ItemDefinition_309" name="items"/>
        <bpmn2:dataInput id="DataInput_25" itemSubjectRef="ItemDefinition_2073" name="discount"/>
        <bpmn2:dataOutput id="DataOutput_8" itemSubjectRef="ItemDefinition_930" name="totalAmount"/>
        <bpmn2:inputSet id="_InputSet_3">
          <bpmn2:dataInputRefs>DataInput_5</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_6</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_7</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_9</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>DataInput_25</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet id="OutputSet_16" name="Output Set">
          <bpmn2:dataOutputRefs>DataOutput_8</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation id="DataInputAssociation_5">
        <bpmn2:targetRef>DataInput_5</bpmn2:targetRef>
        <bpmn2:assignment id="Assignment_1">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_9">https://kiegroup.org/dmn/_D68D0A24-E6B4-4DD1-898C-A0FEEB835787</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_7">DataInput_5</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_6">
        <bpmn2:targetRef>DataInput_6</bpmn2:targetRef>
        <bpmn2:assignment id="Assignment_2">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_12">calculate-price</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_10">DataInput_6</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_7">
        <bpmn2:targetRef>DataInput_7</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_9">
        <bpmn2:sourceRef>items</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_9</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation id="DataInputAssociation_26">
        <bpmn2:sourceRef>discount</bpmn2:sourceRef>
        <bpmn2:targetRef>DataInput_25</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation id="DataOutputAssociation_8">
        <bpmn2:sourceRef>DataOutput_8</bpmn2:sourceRef>
        <bpmn2:assignment id="Assignment_9">
          <bpmn2:from xsi:type="bpmn2:tFormalExpression" id="FormalExpression_19">DataOutput_8</bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression" id="FormalExpression_25">#{order.amount}</bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataOutputAssociation>
    </bpmn2:businessRuleTask>
    <bpmn2:sequenceFlow id="SequenceFlow_45" automatiko:priority="1" sourceRef="BusinessRuleTask_2" targetRef="ServiceTask_2"/>
    <bpmn2:dataObject id="discount" name="discount" itemSubjectRef="ItemDefinition_2073">
      <bpmn2:extensionElements>
        <automatiko:metaData name="value">
          <automatiko:metaValue><![CDATA[0]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
    </bpmn2:dataObject>
    <bpmn2:parallelGateway id="ParallelGateway_1" gatewayDirection="Diverging">
      <bpmn2:incoming>SequenceFlow_47</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>
      <bpmn2:outgoing>SequenceFlow_35</bpmn2:outgoing>
    </bpmn2:parallelGateway>
    <bpmn2:sequenceFlow id="SequenceFlow_47" automatiko:priority="1" sourceRef="ScriptTask_1" targetRef="ParallelGateway_1"/>
    <bpmn2:sequenceFlow id="SequenceFlow_48" automatiko:priority="1" sourceRef="BusinessRuleTask_1" targetRef="BusinessRuleTask_2"/>
    <bpmn2:sequenceFlow id="SequenceFlow_2" automatiko:priority="1" sourceRef="StartEvent_1" targetRef="ScriptTask_1"/>
    <bpmn2:intermediateThrowEvent id="IntermediateThrowEvent_1" name="Cancel shippment">
      <bpmn2:extensionElements>
        <automatiko:metaData name="elementname">
          <automatiko:metaValue><![CDATA[Cancel shippment]]></automatiko:metaValue>
        </automatiko:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_33</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>
      <bpmn2:compensateEventDefinition id="CompensateEventDefinition_1" activityRef="ServiceTask_3" waitForCompletion="true"/>
    </bpmn2:intermediateThrowEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_6" automatiko:priority="1" sourceRef="IntermediateThrowEvent_1" targetRef="EndEvent_2"/>
    <bpmn2:association id="Association_1" associationDirection="One" sourceRef="BoundaryEvent_1" targetRef="ServiceTask_5"/>
    <bpmn2:textAnnotation id="TextAnnotation_1">
      <bpmn2:text>

Data model visible as part of the service</bpmn2:text>
    </bpmn2:textAnnotation>
    <bpmn2:textAnnotation id="TextAnnotation_2">
      <bpmn2:text>

internal data model not exposed via service api</bpmn2:text>
    </bpmn2:textAnnotation>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_Process_1" bpmnElement="orders">
      <bpmndi:BPMNShape id="BPMNShape_SubProcess_1" bpmnElement="SubProcess_1" isExpanded="true">
        <dc:Bounds height="383.0" width="771.0" x="76.0" y="575.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_1">
          <dc:Bounds height="11.0" width="87.0" x="82.0" y="578.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_SubProcess_2" bpmnElement="SubProcess_2" isExpanded="true">
        <dc:Bounds height="303.0" width="497.0" x="910.0" y="583.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_2">
          <dc:Bounds height="11.0" width="103.0" x="916.0" y="586.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="76.0" y="313.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_3" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="54.0" x="67.0" y="349.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_1" bpmnElement="order">
        <dc:Bounds height="50.0" width="36.0" x="91.0" y="164.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_4">
          <dc:Bounds height="11.0" width="22.0" x="98.0" y="214.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_2" bpmnElement="items">
        <dc:Bounds height="50.0" width="36.0" x="161.0" y="164.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_5">
          <dc:Bounds height="11.0" width="22.0" x="168.0" y="214.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_3" bpmnElement="event">
        <dc:Bounds height="50.0" width="36.0" x="126.0" y="493.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_6">
          <dc:Bounds height="11.0" width="23.0" x="132.0" y="543.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EventBasedGateway_1" bpmnElement="EventBasedGateway_1" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="490.0" y="393.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_7">
          <dc:Bounds height="22.0" width="62.0" x="484.0" y="443.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_IntermediateCatchEvent_1" bpmnElement="IntermediateCatchEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="444.0" y="278.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_8">
          <dc:Bounds height="11.0" width="64.0" x="430.0" y="314.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_IntermediateCatchEvent_2" bpmnElement="IntermediateCatchEvent_2">
        <dc:Bounds height="36.0" width="36.0" x="608.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_9">
          <dc:Bounds height="11.0" width="53.0" x="600.0" y="436.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_IntermediateCatchEvent_3" bpmnElement="IntermediateCatchEvent_3">
        <dc:Bounds height="36.0" width="36.0" x="608.0" y="500.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_10">
          <dc:Bounds height="11.0" width="40.0" x="606.0" y="536.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_1" bpmnElement="EndEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="712.0" y="500.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_11" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="22.0" width="71.0" x="695.0" y="536.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ServiceTask_1" bpmnElement="ServiceTask_1" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="545.0" y="271.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_12">
          <dc:Bounds height="11.0" width="96.0" x="552.0" y="290.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_1" bpmnElement="ExclusiveGateway_1" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="755.0" y="271.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_13">
          <dc:Bounds height="11.0" width="51.0" x="755.0" y="321.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_2" bpmnElement="EndEvent_2">
        <dc:Bounds height="36.0" width="36.0" x="987.0" y="212.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_14" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="73.0" x="969.0" y="248.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ServiceTask_2" bpmnElement="ServiceTask_2" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="1079.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_16">
          <dc:Bounds height="11.0" width="100.0" x="1084.0" y="419.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ServiceTask_3" bpmnElement="ServiceTask_3" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="1261.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_17">
          <dc:Bounds height="11.0" width="78.0" x="1277.0" y="419.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_IntermediateCatchEvent_4" bpmnElement="IntermediateCatchEvent_4">
        <dc:Bounds height="36.0" width="36.0" x="1430.0" y="407.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_18">
          <dc:Bounds height="11.0" width="74.0" x="1411.0" y="443.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ServiceTask_4" bpmnElement="ServiceTask_4" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="1529.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_19">
          <dc:Bounds height="11.0" width="92.0" x="1538.0" y="419.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_4" bpmnElement="EndEvent_4">
        <dc:Bounds height="36.0" width="36.0" x="1686.0" y="407.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_20" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="66.0" x="1671.0" y="443.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ServiceTask_5" bpmnElement="ServiceTask_5" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="1447.0" y="500.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_22">
          <dc:Bounds height="11.0" width="73.0" x="1465.0" y="519.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_StartEvent_2" bpmnElement="StartEvent_2">
        <dc:Bounds height="36.0" width="36.0" x="100.0" y="702.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_23" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="22.0" width="73.0" x="82.0" y="738.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_2" bpmnElement="ExclusiveGateway_2" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="210.0" y="695.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_24">
          <dc:Bounds height="11.0" width="57.0" x="207.0" y="745.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_5" bpmnElement="EndEvent_5">
        <dc:Bounds height="36.0" width="36.0" x="660.0" y="622.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_26" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="59.0" x="649.0" y="658.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_BusinessRuleTask_1" bpmnElement="BusinessRuleTask_1" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="695.0" y="393.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_27" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="64.0" x="718.0" y="412.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_BusinessRuleTask_2" bpmnElement="BusinessRuleTask_2" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="878.0" y="393.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_28" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="94.0" x="886.0" y="412.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_6" bpmnElement="EndEvent_6">
        <dc:Bounds height="36.0" width="36.0" x="537.0" y="802.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_29" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="62.0" x="524.0" y="838.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_StartEvent_3" bpmnElement="StartEvent_3">
        <dc:Bounds height="36.0" width="36.0" x="962.0" y="705.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_30" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="22.0" width="57.0" x="952.0" y="741.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_7" bpmnElement="EndEvent_7">
        <dc:Bounds height="36.0" width="36.0" x="1277.0" y="705.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_31" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="73.0" x="1259.0" y="741.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_4" bpmnElement="shippment">
        <dc:Bounds height="50.0" width="36.0" x="230.0" y="164.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_32">
          <dc:Bounds height="11.0" width="42.0" x="227.0" y="214.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ScriptTask_1" bpmnElement="ScriptTask_1" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="152.0" y="306.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_15">
          <dc:Bounds height="11.0" width="38.0" x="188.0" y="325.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ScriptTask_2" bpmnElement="ScriptTask_2" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="310.0" y="615.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_21">
          <dc:Bounds height="11.0" width="53.0" x="338.0" y="634.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_3" bpmnElement="ExclusiveGateway_3" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="1035.0" y="697.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_25">
          <dc:Bounds height="11.0" width="74.0" x="1023.0" y="747.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ScriptTask_3" bpmnElement="ScriptTask_3" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="1126.0" y="698.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_33">
          <dc:Bounds height="11.0" width="69.0" x="1146.0" y="717.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_8" bpmnElement="EndEvent_8">
        <dc:Bounds height="36.0" width="36.0" x="1153.0" y="804.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_34" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="48.0" x="1147.0" y="840.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_5" bpmnElement="customer">
        <dc:Bounds height="50.0" width="36.0" x="249.0" y="493.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_35">
          <dc:Bounds height="11.0" width="38.0" x="248.0" y="543.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_9" bpmnElement="EndEvent_9">
        <dc:Bounds height="36.0" width="36.0" x="900.0" y="278.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_36" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="39.0" x="899.0" y="314.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_BusinessRuleTask_3" bpmnElement="BusinessRuleTask_3" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="500.0" y="615.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_37" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="94.0" x="508.0" y="634.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_4" bpmnElement="ExclusiveGateway_4" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="209.0" y="795.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_38">
          <dc:Bounds height="22.0" width="55.0" x="207.0" y="845.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_EndEvent_10" bpmnElement="EndEvent_10">
        <dc:Bounds height="36.0" width="36.0" x="461.0" y="875.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_39" labelStyle="BPMNLabelStyle_1">
          <dc:Bounds height="11.0" width="69.0" x="445.0" y="911.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_6" bpmnElement="item">
        <dc:Bounds height="50.0" width="36.0" x="189.0" y="493.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_40">
          <dc:Bounds height="11.0" width="18.0" x="198.0" y="543.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ServiceTask_6" bpmnElement="ServiceTask_6" isExpanded="true">
        <dc:Bounds height="50.0" width="110.0" x="310.0" y="795.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_41">
          <dc:Bounds height="11.0" width="53.0" x="338.0" y="814.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_DataObject_7" bpmnElement="discount">
        <dc:Bounds height="50.0" width="36.0" x="320.0" y="164.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_42">
          <dc:Bounds height="11.0" width="34.0" x="321.0" y="214.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_BoundaryEvent_1" bpmnElement="BoundaryEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="1293.0" y="432.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_21"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ParallelGateway_1" bpmnElement="ParallelGateway_1" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="346.0" y="393.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_43"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_TextAnnotation_1" bpmnElement="TextAnnotation_1">
        <dc:Bounds height="50.0" width="190.0" x="91.0" y="100.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_44">
          <dc:Bounds height="44.0" width="178.0" x="97.0" y="100.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_TextAnnotation_2" bpmnElement="TextAnnotation_2">
        <dc:Bounds height="50.0" width="190.0" x="60.0" y="458.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_45">
          <dc:Bounds height="44.0" width="178.0" x="66.0" y="458.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_IntermediateThrowEvent_1" bpmnElement="IntermediateThrowEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="900.0" y="212.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_46">
          <dc:Bounds height="11.0" width="73.0" x="882.0" y="248.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_DataOutputAssociation_1" bpmnElement="DataOutputAssociation_1" sourceElement="BPMNShape_StartEvent_1" targetElement="BPMNShape_DataObject_3">
        <di:waypoint xsi:type="dc:Point" x="76.0" y="331.0"/>
        <di:waypoint xsi:type="dc:Point" x="50.0" y="331.0"/>
        <di:waypoint xsi:type="dc:Point" x="50.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="126.0" y="518.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_33"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_3" bpmnElement="SequenceFlow_3" sourceElement="BPMNShape_EventBasedGateway_1" targetElement="BPMNShape_IntermediateCatchEvent_2">
        <di:waypoint xsi:type="dc:Point" x="540.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="574.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="608.0" y="418.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_36"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_4" bpmnElement="SequenceFlow_4" sourceElement="BPMNShape_EventBasedGateway_1" targetElement="BPMNShape_IntermediateCatchEvent_3">
        <di:waypoint xsi:type="dc:Point" x="515.0" y="443.0"/>
        <di:waypoint xsi:type="dc:Point" x="515.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="608.0" y="518.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_37"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_5" bpmnElement="SequenceFlow_5" sourceElement="BPMNShape_IntermediateCatchEvent_3" targetElement="BPMNShape_EndEvent_1">
        <di:waypoint xsi:type="dc:Point" x="644.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="678.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="712.0" y="518.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_38"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_11" bpmnElement="SequenceFlow_11" sourceElement="BPMNShape_IntermediateCatchEvent_2" targetElement="BPMNShape_BusinessRuleTask_1">
        <di:waypoint xsi:type="dc:Point" x="644.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="669.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="695.0" y="418.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_44"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_12" bpmnElement="SequenceFlow_12" sourceElement="BPMNShape_ServiceTask_2" targetElement="BPMNShape_ServiceTask_3">
        <di:waypoint xsi:type="dc:Point" x="1189.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1225.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1261.0" y="425.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_45"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_13" bpmnElement="SequenceFlow_13" sourceElement="BPMNShape_ServiceTask_3" targetElement="BPMNShape_IntermediateCatchEvent_4">
        <di:waypoint xsi:type="dc:Point" x="1371.0" y="433.0"/>
        <di:waypoint xsi:type="dc:Point" x="1400.0" y="433.0"/>
        <di:waypoint xsi:type="dc:Point" x="1400.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1430.0" y="425.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_46"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_14" bpmnElement="SequenceFlow_14" sourceElement="BPMNShape_IntermediateCatchEvent_4" targetElement="BPMNShape_ServiceTask_4">
        <di:waypoint xsi:type="dc:Point" x="1466.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1497.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1529.0" y="425.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_47"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_15" bpmnElement="SequenceFlow_15" sourceElement="BPMNShape_ServiceTask_4" targetElement="BPMNShape_EndEvent_4">
        <di:waypoint xsi:type="dc:Point" x="1639.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1662.0" y="425.0"/>
        <di:waypoint xsi:type="dc:Point" x="1686.0" y="425.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_48"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_Association_1" bpmnElement="Association_1" sourceElement="BPMNShape_BoundaryEvent_1" targetElement="BPMNShape_ServiceTask_5">
        <di:waypoint xsi:type="dc:Point" x="1311.0" y="468.0"/>
        <di:waypoint xsi:type="dc:Point" x="1311.0" y="525.0"/>
        <di:waypoint xsi:type="dc:Point" x="1447.0" y="525.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_49"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataOutputAssociation_2" bpmnElement="DataOutputAssociation_2" sourceElement="BPMNShape_StartEvent_2" targetElement="BPMNShape_DataObject_3">
        <di:waypoint xsi:type="dc:Point" x="118.0" y="702.0"/>
        <di:waypoint xsi:type="dc:Point" x="118.0" y="623.0"/>
        <di:waypoint xsi:type="dc:Point" x="150.0" y="623.0"/>
        <di:waypoint xsi:type="dc:Point" x="150.0" y="543.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_50"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_20" bpmnElement="SequenceFlow_20" sourceElement="BPMNShape_ExclusiveGateway_2" targetElement="BPMNShape_ExclusiveGateway_4">
        <di:waypoint xsi:type="dc:Point" x="235.0" y="745.0"/>
        <di:waypoint xsi:type="dc:Point" x="235.0" y="770.0"/>
        <di:waypoint xsi:type="dc:Point" x="234.0" y="795.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_54"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataOutputAssociation_3" bpmnElement="DataOutputAssociation_3" sourceElement="BPMNShape_StartEvent_3" targetElement="BPMNShape_DataObject_5">
        <di:waypoint xsi:type="dc:Point" x="980.0" y="705.0"/>
        <di:waypoint xsi:type="dc:Point" x="980.0" y="564.0"/>
        <di:waypoint xsi:type="dc:Point" x="267.0" y="564.0"/>
        <di:waypoint xsi:type="dc:Point" x="267.0" y="543.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_57"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_2" bpmnElement="DataInputAssociation_11" sourceElement="BPMNShape_DataObject_1" targetElement="BPMNShape_ServiceTask_1">
        <di:waypoint xsi:type="dc:Point" x="127.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="156.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="156.0" y="230.0"/>
        <di:waypoint xsi:type="dc:Point" x="600.0" y="230.0"/>
        <di:waypoint xsi:type="dc:Point" x="600.0" y="271.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_58"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_3" bpmnElement="DataInputAssociation_12" sourceElement="BPMNShape_DataObject_2" targetElement="BPMNShape_ServiceTask_1">
        <di:waypoint xsi:type="dc:Point" x="197.0" y="176.0"/>
        <di:waypoint xsi:type="dc:Point" x="223.0" y="176.0"/>
        <di:waypoint xsi:type="dc:Point" x="223.0" y="224.0"/>
        <di:waypoint xsi:type="dc:Point" x="618.0" y="224.0"/>
        <di:waypoint xsi:type="dc:Point" x="618.0" y="271.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_59"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_4" bpmnElement="DataInputAssociation_13" sourceElement="BPMNShape_DataObject_1" targetElement="BPMNShape_ServiceTask_2">
        <di:waypoint xsi:type="dc:Point" x="100.0" y="164.0"/>
        <di:waypoint xsi:type="dc:Point" x="100.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1199.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1199.0" y="416.0"/>
        <di:waypoint xsi:type="dc:Point" x="1189.0" y="416.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_60"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_5" bpmnElement="DataInputAssociation_14" sourceElement="BPMNShape_DataObject_2" targetElement="BPMNShape_ServiceTask_2">
        <di:waypoint xsi:type="dc:Point" x="179.0" y="214.0"/>
        <di:waypoint xsi:type="dc:Point" x="179.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="434.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="434.0" y="324.0"/>
        <di:waypoint xsi:type="dc:Point" x="1134.0" y="324.0"/>
        <di:waypoint xsi:type="dc:Point" x="1134.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_61"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_6" bpmnElement="DataInputAssociation_15" sourceElement="BPMNShape_DataObject_1" targetElement="BPMNShape_ServiceTask_4">
        <di:waypoint xsi:type="dc:Point" x="115.0" y="164.0"/>
        <di:waypoint xsi:type="dc:Point" x="115.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1649.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1649.0" y="416.0"/>
        <di:waypoint xsi:type="dc:Point" x="1639.0" y="416.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_62"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_7" bpmnElement="DataInputAssociation_16" sourceElement="BPMNShape_DataObject_2" targetElement="BPMNShape_ServiceTask_4">
        <di:waypoint xsi:type="dc:Point" x="179.0" y="164.0"/>
        <di:waypoint xsi:type="dc:Point" x="179.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1565.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1565.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_63"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_8" bpmnElement="DataInputAssociation_17" sourceElement="BPMNShape_DataObject_4" targetElement="BPMNShape_ServiceTask_4">
        <di:waypoint xsi:type="dc:Point" x="254.0" y="164.0"/>
        <di:waypoint xsi:type="dc:Point" x="254.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1602.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1602.0" y="400.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_64"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_9" bpmnElement="DataInputAssociation_18" sourceElement="BPMNShape_DataObject_1" targetElement="BPMNShape_ServiceTask_3">
        <di:waypoint xsi:type="dc:Point" x="103.0" y="164.0"/>
        <di:waypoint xsi:type="dc:Point" x="103.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1381.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1381.0" y="416.0"/>
        <di:waypoint xsi:type="dc:Point" x="1371.0" y="416.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_65"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataOutputAssociation_4" bpmnElement="DataOutputAssociation_4" sourceElement="BPMNShape_ServiceTask_3" targetElement="BPMNShape_DataObject_4">
        <di:waypoint xsi:type="dc:Point" x="1316.0" y="400.0"/>
        <di:waypoint xsi:type="dc:Point" x="1316.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="366.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="366.0" y="224.0"/>
        <di:waypoint xsi:type="dc:Point" x="299.0" y="224.0"/>
        <di:waypoint xsi:type="dc:Point" x="299.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="266.0" y="189.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_66"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_10" bpmnElement="DataInputAssociation_19" sourceElement="BPMNShape_DataObject_4" targetElement="BPMNShape_ServiceTask_5">
        <di:waypoint xsi:type="dc:Point" x="248.0" y="164.0"/>
        <di:waypoint xsi:type="dc:Point" x="248.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1502.0" y="154.0"/>
        <di:waypoint xsi:type="dc:Point" x="1502.0" y="500.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_67"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_31" bpmnElement="SequenceFlow_31" sourceElement="BPMNShape_ScriptTask_3" targetElement="BPMNShape_EndEvent_7">
        <di:waypoint xsi:type="dc:Point" x="1236.0" y="723.0"/>
        <di:waypoint xsi:type="dc:Point" x="1256.0" y="723.0"/>
        <di:waypoint xsi:type="dc:Point" x="1277.0" y="723.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_68"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_11" bpmnElement="DataInputAssociation_9" sourceElement="BPMNShape_DataObject_2" targetElement="BPMNShape_BusinessRuleTask_2">
        <di:waypoint xsi:type="dc:Point" x="173.0" y="214.0"/>
        <di:waypoint xsi:type="dc:Point" x="173.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="142.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="142.0" y="453.0"/>
        <di:waypoint xsi:type="dc:Point" x="933.0" y="453.0"/>
        <di:waypoint xsi:type="dc:Point" x="933.0" y="443.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_25"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_7" bpmnElement="SequenceFlow_7" sourceElement="BPMNShape_ExclusiveGateway_2" targetElement="BPMNShape_ScriptTask_2">
        <di:waypoint xsi:type="dc:Point" x="260.0" y="720.0"/>
        <di:waypoint xsi:type="dc:Point" x="365.0" y="720.0"/>
        <di:waypoint xsi:type="dc:Point" x="365.0" y="665.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_52"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_16" bpmnElement="SequenceFlow_16" sourceElement="BPMNShape_ParallelGateway_1" targetElement="BPMNShape_EventBasedGateway_1">
        <di:waypoint xsi:type="dc:Point" x="396.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="443.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="490.0" y="418.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_51"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_18" bpmnElement="SequenceFlow_18" sourceElement="BPMNShape_ScriptTask_2">
        <di:waypoint xsi:type="dc:Point" x="420.0" y="640.0"/>
        <di:waypoint xsi:type="dc:Point" x="498.0" y="640.0"/>
        <di:waypoint xsi:type="dc:Point" x="508.0" y="639.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_53"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_19" bpmnElement="SequenceFlow_19" sourceElement="BPMNShape_StartEvent_3" targetElement="BPMNShape_ExclusiveGateway_3">
        <di:waypoint xsi:type="dc:Point" x="998.0" y="723.0"/>
        <di:waypoint xsi:type="dc:Point" x="1016.0" y="723.0"/>
        <di:waypoint xsi:type="dc:Point" x="1035.0" y="722.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_55"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_23" bpmnElement="SequenceFlow_23" sourceElement="BPMNShape_ExclusiveGateway_3" targetElement="BPMNShape_ScriptTask_3">
        <di:waypoint xsi:type="dc:Point" x="1085.0" y="722.0"/>
        <di:waypoint xsi:type="dc:Point" x="1105.0" y="723.0"/>
        <di:waypoint xsi:type="dc:Point" x="1126.0" y="723.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_56"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_24" bpmnElement="SequenceFlow_24" sourceElement="BPMNShape_ExclusiveGateway_3" targetElement="BPMNShape_EndEvent_8">
        <di:waypoint xsi:type="dc:Point" x="1060.0" y="747.0"/>
        <di:waypoint xsi:type="dc:Point" x="1060.0" y="822.0"/>
        <di:waypoint xsi:type="dc:Point" x="1153.0" y="822.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_69"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_26" bpmnElement="SequenceFlow_26" sourceElement="BPMNShape_BusinessRuleTask_3" targetElement="BPMNShape_EndEvent_5">
        <di:waypoint xsi:type="dc:Point" x="610.0" y="640.0"/>
        <di:waypoint xsi:type="dc:Point" x="635.0" y="640.0"/>
        <di:waypoint xsi:type="dc:Point" x="660.0" y="640.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_70"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_28" bpmnElement="SequenceFlow_28" sourceElement="BPMNShape_ExclusiveGateway_4" targetElement="BPMNShape_EndEvent_10">
        <di:waypoint xsi:type="dc:Point" x="234.0" y="845.0"/>
        <di:waypoint xsi:type="dc:Point" x="234.0" y="893.0"/>
        <di:waypoint xsi:type="dc:Point" x="461.0" y="893.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_71"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_29" bpmnElement="SequenceFlow_29" sourceElement="BPMNShape_IntermediateCatchEvent_1" targetElement="BPMNShape_ServiceTask_1">
        <di:waypoint xsi:type="dc:Point" x="480.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="512.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="545.0" y="296.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_72"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_30" bpmnElement="SequenceFlow_30" sourceElement="BPMNShape_ServiceTask_1" targetElement="BPMNShape_ExclusiveGateway_1">
        <di:waypoint xsi:type="dc:Point" x="655.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="705.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="755.0" y="296.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_73"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_33" bpmnElement="SequenceFlow_33" sourceElement="BPMNShape_ExclusiveGateway_1" targetElement="BPMNShape_IntermediateThrowEvent_1">
        <di:waypoint xsi:type="dc:Point" x="780.0" y="271.0"/>
        <di:waypoint xsi:type="dc:Point" x="780.0" y="230.0"/>
        <di:waypoint xsi:type="dc:Point" x="900.0" y="230.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_74"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_34" bpmnElement="SequenceFlow_34" sourceElement="BPMNShape_ExclusiveGateway_1" targetElement="BPMNShape_EndEvent_9">
        <di:waypoint xsi:type="dc:Point" x="805.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="852.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="900.0" y="296.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_75"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_35" bpmnElement="SequenceFlow_35" sourceElement="BPMNShape_ParallelGateway_1" targetElement="BPMNShape_IntermediateCatchEvent_1">
        <di:waypoint xsi:type="dc:Point" x="371.0" y="393.0"/>
        <di:waypoint xsi:type="dc:Point" x="371.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="444.0" y="296.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_76"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_36" bpmnElement="SequenceFlow_36" sourceElement="BPMNShape_ExclusiveGateway_4" targetElement="BPMNShape_ServiceTask_6">
        <di:waypoint xsi:type="dc:Point" x="259.0" y="820.0"/>
        <di:waypoint xsi:type="dc:Point" x="284.0" y="820.0"/>
        <di:waypoint xsi:type="dc:Point" x="284.0" y="825.0"/>
        <di:waypoint xsi:type="dc:Point" x="310.0" y="825.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_77"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_12" bpmnElement="DataInputAssociation_23" sourceElement="BPMNShape_DataObject_3" targetElement="BPMNShape_ServiceTask_6">
        <di:waypoint xsi:type="dc:Point" x="162.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="180.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="180.0" y="855.0"/>
        <di:waypoint xsi:type="dc:Point" x="273.0" y="855.0"/>
        <di:waypoint xsi:type="dc:Point" x="273.0" y="835.0"/>
        <di:waypoint xsi:type="dc:Point" x="310.0" y="835.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_78"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_13" bpmnElement="DataInputAssociation_24" sourceElement="BPMNShape_DataObject_2" targetElement="BPMNShape_ServiceTask_6">
        <di:waypoint xsi:type="dc:Point" x="161.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="151.0" y="189.0"/>
        <di:waypoint xsi:type="dc:Point" x="151.0" y="448.0"/>
        <di:waypoint xsi:type="dc:Point" x="50.0" y="448.0"/>
        <di:waypoint xsi:type="dc:Point" x="50.0" y="605.0"/>
        <di:waypoint xsi:type="dc:Point" x="300.0" y="605.0"/>
        <di:waypoint xsi:type="dc:Point" x="300.0" y="719.0"/>
        <di:waypoint xsi:type="dc:Point" x="346.0" y="719.0"/>
        <di:waypoint xsi:type="dc:Point" x="346.0" y="795.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_79"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataOutputAssociation_5" bpmnElement="DataOutputAssociation_10" sourceElement="BPMNShape_ServiceTask_6" targetElement="BPMNShape_DataObject_6">
        <di:waypoint xsi:type="dc:Point" x="383.0" y="795.0"/>
        <di:waypoint xsi:type="dc:Point" x="383.0" y="755.0"/>
        <di:waypoint xsi:type="dc:Point" x="398.0" y="755.0"/>
        <di:waypoint xsi:type="dc:Point" x="398.0" y="675.0"/>
        <di:waypoint xsi:type="dc:Point" x="245.0" y="675.0"/>
        <di:waypoint xsi:type="dc:Point" x="245.0" y="518.0"/>
        <di:waypoint xsi:type="dc:Point" x="225.0" y="518.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_80"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_42" bpmnElement="SequenceFlow_42" sourceElement="BPMNShape_ServiceTask_6" targetElement="BPMNShape_EndEvent_6">
        <di:waypoint xsi:type="dc:Point" x="420.0" y="820.0"/>
        <di:waypoint xsi:type="dc:Point" x="478.0" y="820.0"/>
        <di:waypoint xsi:type="dc:Point" x="537.0" y="820.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_81"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_45" bpmnElement="SequenceFlow_45" sourceElement="BPMNShape_BusinessRuleTask_2" targetElement="BPMNShape_ServiceTask_2">
        <di:waypoint xsi:type="dc:Point" x="988.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="1033.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="1033.0" y="433.0"/>
        <di:waypoint xsi:type="dc:Point" x="1079.0" y="433.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_82"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_15" bpmnElement="DataInputAssociation_25" sourceElement="BPMNShape_DataObject_2" targetElement="BPMNShape_BusinessRuleTask_1">
        <di:waypoint xsi:type="dc:Point" x="170.0" y="214.0"/>
        <di:waypoint xsi:type="dc:Point" x="170.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="434.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="434.0" y="383.0"/>
        <di:waypoint xsi:type="dc:Point" x="662.0" y="383.0"/>
        <di:waypoint xsi:type="dc:Point" x="662.0" y="409.0"/>
        <di:waypoint xsi:type="dc:Point" x="695.0" y="409.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_83"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataOutputAssociation_6" bpmnElement="DataOutputAssociation_11" sourceElement="BPMNShape_BusinessRuleTask_1" targetElement="BPMNShape_DataObject_7">
        <di:waypoint xsi:type="dc:Point" x="768.0" y="393.0"/>
        <di:waypoint xsi:type="dc:Point" x="768.0" y="331.0"/>
        <di:waypoint xsi:type="dc:Point" x="338.0" y="331.0"/>
        <di:waypoint xsi:type="dc:Point" x="338.0" y="214.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_84"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_16" bpmnElement="DataInputAssociation_26" sourceElement="BPMNShape_DataObject_7" targetElement="BPMNShape_BusinessRuleTask_2">
        <di:waypoint xsi:type="dc:Point" x="356.0" y="180.0"/>
        <di:waypoint xsi:type="dc:Point" x="946.0" y="180.0"/>
        <di:waypoint xsi:type="dc:Point" x="946.0" y="339.0"/>
        <di:waypoint xsi:type="dc:Point" x="933.0" y="339.0"/>
        <di:waypoint xsi:type="dc:Point" x="933.0" y="393.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_85"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_DataInputAssociation_17" bpmnElement="DataInputAssociation_27" sourceElement="BPMNShape_DataObject_7" targetElement="BPMNShape_BusinessRuleTask_3">
        <di:waypoint xsi:type="dc:Point" x="356.0" y="197.0"/>
        <di:waypoint xsi:type="dc:Point" x="665.0" y="197.0"/>
        <di:waypoint xsi:type="dc:Point" x="665.0" y="612.0"/>
        <di:waypoint xsi:type="dc:Point" x="620.0" y="612.0"/>
        <di:waypoint xsi:type="dc:Point" x="620.0" y="631.0"/>
        <di:waypoint xsi:type="dc:Point" x="610.0" y="631.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_86"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_47" bpmnElement="SequenceFlow_47" sourceElement="BPMNShape_ScriptTask_1" targetElement="BPMNShape_ParallelGateway_1">
        <di:waypoint xsi:type="dc:Point" x="207.0" y="356.0"/>
        <di:waypoint xsi:type="dc:Point" x="207.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="346.0" y="418.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_87"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_48" bpmnElement="SequenceFlow_48" sourceElement="BPMNShape_BusinessRuleTask_1" targetElement="BPMNShape_BusinessRuleTask_2">
        <di:waypoint xsi:type="dc:Point" x="805.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="841.0" y="418.0"/>
        <di:waypoint xsi:type="dc:Point" x="841.0" y="426.0"/>
        <di:waypoint xsi:type="dc:Point" x="878.0" y="426.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_88"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_50" bpmnElement="SequenceFlow_50" sourceElement="BPMNShape_StartEvent_2" targetElement="BPMNShape_ExclusiveGateway_2">
        <di:waypoint xsi:type="dc:Point" x="136.0" y="720.0"/>
        <di:waypoint xsi:type="dc:Point" x="173.0" y="720.0"/>
        <di:waypoint xsi:type="dc:Point" x="210.0" y="720.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_89"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_2" bpmnElement="SequenceFlow_2" sourceElement="BPMNShape_StartEvent_1" targetElement="BPMNShape_ScriptTask_1">
        <di:waypoint xsi:type="dc:Point" x="112.0" y="331.0"/>
        <di:waypoint xsi:type="dc:Point" x="132.0" y="331.0"/>
        <di:waypoint xsi:type="dc:Point" x="152.0" y="331.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_90"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_6" bpmnElement="SequenceFlow_6" sourceElement="BPMNShape_IntermediateThrowEvent_1" targetElement="BPMNShape_EndEvent_2">
        <di:waypoint xsi:type="dc:Point" x="936.0" y="230.0"/>
        <di:waypoint xsi:type="dc:Point" x="961.0" y="230.0"/>
        <di:waypoint xsi:type="dc:Point" x="987.0" y="230.0"/>
        <bpmndi:BPMNLabel id="BPMNLabel_91"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
    <bpmndi:BPMNLabelStyle id="BPMNLabelStyle_1">
      <dc:Font name="arial" size="9.0"/>
    </bpmndi:BPMNLabelStyle>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>